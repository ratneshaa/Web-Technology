<!DOCTYPE html>
<html>
<head>
    <title>Adaptive Registration Form</title>

    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }

        input, select, button {
            display: block;
            margin-bottom: 10px;
            padding: 8px;
            width: 250px;
            border-block-color: rgb(29, 129, 187);
        }

        input.error {
            border: 2px solid red;
        }

        #skillsBox {
            display: none;
        }
    </style>
</head>
<body>

<h2>Registration Form</h2>

<form id="registerForm">

    <label>Name</label>
    <input type="text" id="name">

    <label>Email</label>
    <input type="email" id="email">

    <label>Password</label>
    <input type="password" id="password">

    <label>Confirm Password</label>
    <input type="password" id="confirmPassword">

    <label>Age</label>
    <input type="number" id="age">

    <label>Role</label>
    <select id="role">
        <option value="">Select role</option>
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
        <option value="admin">Admin</option>
    </select>

    <div id="skillsBox">
        <label>Skills</label>
        <input type="text" id="skills">
    </div>

    <button type="submit">Register</button>
</form>



<!-- JavaScript -->
<script>
    const form = document.getElementById("registerForm");
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const confirmPassword = document.getElementById("confirmPassword");
    const role = document.getElementById("role");
    const skillsBox = document.getElementById("skillsBox");

    // Show / hide skills based on role
    role.addEventListener("change", function () {
        if (role.value === "teacher" || role.value === "admin") {
            skillsBox.style.display = "block";
        } else {
            skillsBox.style.display = "none";
        }
    });

    // Email validation
    function validateEmail() {
        if (!email.value.includes("@")) {
            email.classList.add("error");
            return false;
        }
        email.classList.remove("error");
        return true;
    }

    // Password validation based on role
    function validatePassword() {
        if (role.value === "admin" && password.value.length < 8) {
            password.classList.add("error");
            return false;
        }

        if ((role.value === "student" || role.value === "teacher") &&
            password.value.length < 5) {
            password.classList.add("error");
            return false;
        }

        password.classList.remove("error");
        return true;
    }

    // Confirm password validation
    function validateConfirmPassword() {
        if (password.value !== confirmPassword.value) {
            confirmPassword.classList.add("error");
            return false;
        }
        confirmPassword.classList.remove("error");
        return true;
    }

    // Real-time validation
    email.addEventListener("input", validateEmail);
    password.addEventListener("input", validatePassword);
    confirmPassword.addEventListener("input", validateConfirmPassword);

    // Prevent submit if invalid
    form.addEventListener("submit", function (event) {
        if (!validateEmail() || !validatePassword() || !validateConfirmPassword()) {
            event.preventDefault();
            alert("Fix the errors before submitting");
        }
    });
</script>

</body>
</html>